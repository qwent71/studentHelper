services:
  postgres:
    image: postgres:17-alpine
    ports: ["5432:5432"]
    environment:
      POSTGRES_USER: studenthelper
      POSTGRES_PASSWORD: studenthelper
      POSTGRES_DB: studenthelper
    volumes: [postgres_data:/var/lib/postgresql/data]

  redis:
    image: redis:7-alpine
    ports: ["6379:6379"]
    volumes: [redis_data:/data]

  centrifugo:
    image: centrifugo/centrifugo:v6
    ports: ["8800:8000", "8801:8001"]
    command: centrifugo --config=config.json
    volumes: ["./centrifugo.json:/centrifugo/config.json:ro"]

volumes:
  postgres_data:
  redis_data:
