# AGENTS Instructions

## Quality Gate
- Перед завершением любой задачи обязательно запускать тесты проекта.
- После запуска тестов проверять результаты и исправлять найденные ошибки.
- Нельзя считать задачу завершённой, пока проверки не пройдены успешно.
- Проверки должны покрывать все релевантные уровни тестирования: unit, component, integration, e2e.
- Нельзя ограничиваться только одним типом тестов (например, только UI-тестами или только backend-тестами).

## Frontend Validation
- Если задача связана с фронтендом (создание нового UI или изменение существующего), обязательно использовать MCP Playwright для валидации отображения и поведения интерфейса.
- Для фронтенд-задач обязательно прогонять UI e2e-тесты и component-тесты.
- `smoke` и `regression` — отдельные наборы и не должны неявно включать друг друга.

## Component Testing Discipline
- При создании нового фронтенд-компонента обязательно добавлять component-тесты для его ключевых сценариев (рендер, интеракции, состояния ошибок/лоадинга при наличии).
- При изменении существующего компонента обязательно обновлять его component-тесты в том же PR/задаче: нельзя оставлять устаревшие тесты относительно новой логики или разметки.
- Если для изменяемого компонента тестов нет, их нужно написать в рамках этой же задачи.
- Задача по фронтенд-компоненту не считается завершённой, пока тесты компонента не добавлены/обновлены и не проходят успешно.

## Mandatory Test Run Set
- Перед завершением задачи выполнять полный набор проверок: `bun run test`, `bun run tests`, `bun run e2e`.
- Если изменение затрагивает UI, допускается предварительный быстрый прогон `bun run e2e:smoke` и целевой `bun run e2e:regression`, но они не заменяют полный `bun run e2e`.
